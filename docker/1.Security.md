### For production enviroment create user and add it permissions.
### Implement multistage build, less docker container size, the bettter app will work and be secure

### Add user
create user in docker container
```dockerfile
RUN addgroup -S appgroup && adduser -S appuser -G appgroup
USER appuser
### res of the code
```

full example
```dockerfile
FROM openjdk:8-jdk-alpine
RUN apk update
RUN addgroup -S appgroup && adduser -S appuser -G appgroup
USER appuser
EXPOSE 8080
ADD target/spring-boot-docker.jar spring-boot-docker.jar
ENTRYPOINT["java", "-jar", "/spring-boot-docker.jar"]
```


### Multistage
```dockerfile
# first stage also add alias
FROM maven:3.5.0-jdk-8-alpine as builder
# add pom.xml and source code

ADD ./pom.xml pom.xml
ADD ./src /src
# package jar
RUN nvm clean install

# minimal working env
FROM openjdk:8-jre-alpine
RUN apk update
RUN addgroup -S appgroup && adduser -S appuser -G appgroup
USER appuser
# copy compiled files from first stage
COPY --from=builder target/spring-boot-docker.jsar spring-boot-docker.jar

EXPOSE 8080
ADD target/spring-boot-docker.jar spring-boot-docker.jar
ENTRYPOINT["java", "-jar", "/spring-boot-docker.jar"]
```